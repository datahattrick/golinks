# Server Configuration
SERVER_ADDR=:3000
BASE_URL=http://localhost:3000

# Database Configuration (matches docker-compose defaults)
DATABASE_URL=postgres://golinks:golinks@localhost:5432/golinks?sslmode=disable

# OIDC Configuration
# For local development with mock server (make dev):
OIDC_ISSUER=http://localhost:8080/golinks
OIDC_CLIENT_ID=golinks-app
OIDC_CLIENT_SECRET=secret
OIDC_REDIRECT_URL=http://localhost:3000/auth/callback

# For production with real provider (e.g., Google):
# OIDC_ISSUER=https://accounts.google.com
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_REDIRECT_URL=https://your-domain.com/auth/callback

# OIDC Group â†’ Role Mapping (optional)
# When configured, the user's role is derived from their OIDC group memberships
# on every login.  Priority: admin > moderator > user.
# Moderator-mapped users become org_mod (scoped to their organisation's keywords
# only) when they belong to an organisation, or global_mod when they do not.
# When a new organisation is first seen, any existing users already in that org
# who are mapped to moderator are automatically promoted to org_mod.
# If neither OIDC_ADMIN_GROUPS nor OIDC_MODERATOR_GROUPS is set the feature is
# disabled entirely and roles remain as manually assigned.
#
# OIDC claim name that contains the user's group list (default: "groups")
# OIDC_GROUPS_CLAIM=groups
# Comma-separated OIDC group values that grant the admin role
# OIDC_ADMIN_GROUPS=golinks-admin
# Comma-separated OIDC group values that grant the moderator role
# OIDC_MODERATOR_GROUPS=golinks-moderator

# Session Configuration
SESSION_SECRET=change-me-in-production

# Organization Configuration
# OIDC claim name for extracting user's organization (default: "organisation")
# OIDC_ORG_CLAIM=organisation

# Organization Fallback URLs (optional)
# Comma-separated list of org_slug=fallback_url pairs
# When a keyword is not found, users in the specified org are redirected to the fallback URL with the keyword appended
# Example: ORG_FALLBACKS=acme=https://other-golinks.acme.com/go/,corp=https://corp-links.example.com/
# ORG_FALLBACKS=

# Logging
# Log level: debug, info, warn, error (default: info)
# LOG_LEVEL=info

# Feature Toggles
# Enable personal links (user-specific shortcuts).
# Set to "false" to disable. Default: true
# ENABLE_PERSONAL_LINKS=true

# Enable organization links (team-specific shortcuts).
# Set to "false" to disable. Default: true
# ENABLE_ORG_LINKS=true

# Simple Mode: When BOTH personal and org links are disabled, the app runs in "simple mode"
# - Only global links are available
# - The redirect API (/go/:keyword) does not require authentication
# - Frontend still requires authentication via OIDC
# Example for simple mode:
# ENABLE_PERSONAL_LINKS=false
# ENABLE_ORG_LINKS=false

# =============================================================================
# Site Branding
# =============================================================================
# Site title displayed in header
# SITE_TITLE=GoLinks

# Tagline displayed on home page
# SITE_TAGLINE=Fast URL shortcuts for your team

# Footer text
# SITE_FOOTER=GoLinks - Fast URL shortcuts for your team

# URL to custom logo image
# SITE_LOGO_URL=

# Enable animated background (floating nodes and gradient animation)
# Default: false (static background for better performance on low-end systems)
# Set to any non-empty value to enable animations
# ENABLE_ANIMATED_BACKGROUND=true

# =============================================================================
# SMTP Email Configuration
# =============================================================================
# Enable email notifications (set to any non-empty value to enable)
# SMTP_ENABLED=true

# SMTP server configuration
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USERNAME=your-smtp-username
# SMTP_PASSWORD=your-smtp-password

# Email sender configuration
# SMTP_FROM=noreply@example.com
# SMTP_FROM_NAME=GoLinks

# TLS mode: "none", "starttls" (port 587), or "tls" (port 465)
# SMTP_TLS=starttls

# =============================================================================
# Email Notification Settings
# =============================================================================
# All notifications are enabled by default when SMTP is configured.
# Set to "false" to disable specific notifications.

# Notify moderators when a new link is submitted for review
# EMAIL_NOTIFY_MODS_ON_SUBMIT=true

# Notify users when their submitted link is approved
# EMAIL_NOTIFY_USER_ON_APPROVAL=true

# Notify users when their submitted link is rejected
# EMAIL_NOTIFY_USER_ON_REJECTION=true

# Notify users when their link is deleted by a moderator
# EMAIL_NOTIFY_USER_ON_DELETION=true

# Notify moderators when health checks detect broken links
# EMAIL_NOTIFY_MODS_ON_HEALTH_FAILURE=true